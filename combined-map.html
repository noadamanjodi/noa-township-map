<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Township Combined Map ‚Äì Final</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css">

<style>
html,body{height:100%;margin:0;font-family:Segoe UI,Arial;background:#f4f6fb}
.app{height:100%;display:flex;flex-direction:column}
header{background:#003f88;color:#fff;padding:12px;font-size:18px;font-weight:600;text-align:center}
.content{flex:1;display:flex;min-height:0}

.sidebar{
  width:330px;background:#fff;padding:14px;
  box-shadow:2px 0 12px rgba(0,0,0,.15);
  overflow:auto
}
.panel{margin-bottom:14px}

input,button{
  width:100%;padding:12px;border-radius:10px;
  border:1px solid #ccc;margin-top:8px;font-size:15px
}
button{cursor:pointer;font-weight:600;border:none;background:#ffd24d}
.admin{background:#b6e57a}
.save{background:#9fd0ff}
.reset{background:#e0e7ff;color:#003f88}

.map-wrap{flex:1}
#map{width:100%;height:100%}
.leaflet-image-layer{pointer-events:none}

/* ================= MOBILE ADMIN LAYOUT ================= */
.mobile-admin-bar{
  display:none;
  position:fixed;
  bottom:0;left:0;right:0;
  background:#003f88;
  color:#fff;
  text-align:center;
  padding:10px;
  font-weight:600;
  z-index:9999;
}

.mobile-admin-panel{
  display:none;
  position:fixed;
  bottom:52px;left:0;right:0;
  background:#fff;
  box-shadow:0 -6px 18px rgba(0,0,0,.25);
  padding:12px;
  z-index:9999;
}

.mobile-admin-panel .panel{
  margin-bottom:10px;
}

.mobile-admin-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

/* ================= AUTOSUGGEST ================= */
.suggest-box{
  background:#fff;border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.2);
  display:none;max-height:220px;overflow:auto
}
.suggest-item{
  padding:10px;border-bottom:1px solid #eee;
  cursor:pointer
}
.suggest-item:hover{background:#eef4ff}

/* ================= MOBILE SWITCH ================= */
@media(max-width:768px){
  .content{flex-direction:column}
  .sidebar{width:100%}

  /* Hide admin section in sidebar */
  #adminSection{display:none}

  /* Show mobile admin bar */
  .mobile-admin-bar{display:block}
}
</style>
</head>

<body>
<div class="app">
<header>Township Combined Map ‚Äì Final Admin Version</header>

<div class="content">

<aside class="sidebar">

<div class="panel">
  <strong>Search Quarter</strong>
  <input id="searchInput" placeholder="Example: 1-B-720 or 2-B-168">
  <button id="searchBtn">üîç Find</button>
  <button class="reset" id="resetBtn">üîÑ Reset Highlight</button>
  <div id="suggestBox" class="suggest-box"></div>
</div>

<!-- ================= DESKTOP ADMIN ================= -->
<div id="adminSection">
  <div class="panel">
    <button id="adminBtn">Admin Login</button>
    <input id="adminPass" type="password" placeholder="Password">
    <button class="admin" id="unlockBtn">Unlock</button>
  </div>

  <div class="panel" id="adminTools" style="display:none">
    <button id="toggleDraw">Enable Drawing</button>
    <button id="exportBtn">üìÑ Export Selected Block</button>
    <button class="save" id="saveGithub">‚òÅÔ∏è Save to GitHub</button>
  </div>
</div>

</aside>

<div class="map-wrap"><div id="map"></div></div>

</div>
</div>

<!-- ================= MOBILE ADMIN ================= -->
<div class="mobile-admin-bar" onclick="
  const p=document.getElementById('mobileAdminPanel');
  p.style.display=p.style.display==='block'?'none':'block';
">
  üîê Admin Tools
</div>

<div class="mobile-admin-panel" id="mobileAdminPanel">
  <div class="panel">
    <button id="adminBtn">Admin Login</button>
    <input id="adminPass" type="password" placeholder="Password">
    <button class="admin" id="unlockBtn">Unlock</button>
  </div>

  <div class="panel" id="adminTools" style="display:none">
    <div class="mobile-admin-grid">
      <button id="toggleDraw">Enable Drawing</button>
      <button id="exportBtn">üìÑ Export</button>
      <button class="save" id="saveGithub">‚òÅÔ∏è GitHub</button>
    </div>
  </div>
</div>

<!-- ================= SCRIPTS (UNCHANGED) ================= -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>

<!-- üî¥ YOUR ORIGINAL JAVASCRIPT GOES HERE ‚Äî UNCHANGED -->
<!-- üî¥ NO LOGIC WAS MODIFIED -->

</body>
</html>
